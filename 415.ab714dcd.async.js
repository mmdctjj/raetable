"use strict";(self.webpackChunkraetable=self.webpackChunkraetable||[]).push([[415],{53415:function(si,Kn,u){u.r(Kn),u.d(Kn,{BottomToTop:function(){return ln},EAnimation:function(){return un},ECondition:function(){return Zn},EForm:function(){return xn},EFormItem:function(){return sn},EPage:function(){return oe},ETable:function(){return In},ETitle:function(){return ce},FORMTYPE:function(){return E},LeftToRight:function(){return qn},OPERATION:function(){return w},RightToLeft:function(){return Yn},_ESelect:function(){return ht},__ETableProps:function(){return Ot},formatSearch:function(){return $n},objectIsQqual:function(){return Jt},objectToString:function(){return Pn},useAnimation:function(){return Nt},useCondition:function(){return Mt},useExtendFormItem:function(){return rt},useFetch:function(){return on},useForm:function(){return Kt},useFormItem:function(){return Xt},usePage:function(){return Gt},useResize:function(){return Sn},useTable:function(){return Qt},useTitle:function(){return Ht},useTrigger:function(){return dn}});var Te=u(97857),l=u.n(Te),Ae=u(13769),J=u.n(Ae),ke=u(68400),O=u.n(ke),s=u(67294),N=u(94589),e=u(85893),Fe=["direction","animation"],Xn,Gn,Un,Qn,Hn,Vn,Jn,kn=(0,N.F4)(Xn||(Xn=O()([`
  100% {
    transform: translateX(0);
    opacity: 1
  }
`]))),Ze=(0,N.F4)(Gn||(Gn=O()([`
  0% {
    transform: translateX(50%);
  }
  80% {
    transform: translateX(-2%)
  }
  100% {
    transform: translateX(0);
    opacity: 1
  }
`]))),Ee=(0,N.F4)(Un||(Un=O()([`
  0% {
    transform: translateX(-50%);
  }
  80% {
    transform: translateX(2%)
  }
  100% {
    transform: translateX(0);
    opacity: 1
  }
`]))),De=(0,N.F4)(Qn||(Qn=O()([`
  0% {
    transform: translateY(50%);
  }

  80% {
    transform: translateY(-10%);
  }

  100% {
    transform: translateY(0);
    opacity: 1
  }
`]))),Yn=N.ZP.div(Hn||(Hn=O()([`
  transform: `,`;
  opacity: 0;
  animation: `,`
    `,`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms;
`])),function(n){return n.animation===!1?"translateX(0%)":"translateX(50%)"},function(n){return n.animation===!1?kn:Ze},function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,i;return n.animation===!1?0:((t=n.index)!==null&&t!==void 0?t:0)*((i=n.delay)!==null&&i!==void 0?i:130)}),qn=N.ZP.div(Vn||(Vn=O()([`
  transform: `,`;
  opacity: 0;
  animation: `,`
    `,`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms;
`])),function(n){return n.animation===!1?"translateX(0)":"translateX(-100%)"},function(n){return n.animation===!1?kn:Ee},function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,i;return n.animation===!1?0:((t=n.index)!==null&&t!==void 0?t:0)*((i=n.delay)!==null&&i!==void 0?i:130)}),ln=N.ZP.div(Jn||(Jn=O()([`
  width: 100%;
  transform: `,`;
  opacity: 0;
  animation: `,`
    `,`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms;
`])),function(n){return n.animation===!1?"translateY(0)":"translateY(50%)"},function(n){return n.animation===!1?kn:De},function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,i;return n.animation===!1?0:((t=n.index)!==null&&t!==void 0?t:0)*((i=n.delay)!==null&&i!==void 0?i:130)}),Ie=function(t){var i=t.direction,a=i===void 0?"BT":i,r=t.animation,o=r===void 0?!0:r,h=J()(t,Fe),v={BT:(0,e.jsx)(ln,l()({animation:o},h)),RL:(0,e.jsx)(Yn,l()({animation:o},h)),LR:(0,e.jsx)(qn,l()({animation:o},h))};return v[a]},un=Ie,$e=u(5574),f=u.n($e),Pe=u(97937),we=u(60532),ze=u(80882),Le=u(48115),Be=u(71230),G=u(65520),Fn=u(15746),tn=u(42075),U=u(83622),Re=["condition","conditionContainerClass","conditionContainerStyle","columns","onConditionChange","showConditionOkBtn","size"],_n,ne,ee,Oe=N.ZP.div(_n||(_n=O()([`
  background-color: @primary-color;
`]))),Ne={background:"#fff",padding:15,margin:15},te=(0,N.ZP)(Be.Z)(ne||(ne=O()([`
  width: 100%;
  margin: 10px 0px;
`]))),Me=N.ZP.div(ee||(ee=O()([`
  text-align: right;
  color: #777;
`])));function We(n){var t,i,a,r=n.condition,o=n.conditionContainerClass,h=n.conditionContainerStyle,v=n.columns,d=n.onConditionChange,g=n.showConditionOkBtn,C=g===void 0?!1:g,k=n.size,x=J()(n,Re),z=G.Z.useForm(),D=f()(z,1),I=D[0],V=dn(),F=f()(V,2),W=F[0],Y=F[1],Z=Sn(),S=dn(),m=f()(S,2),L=m[0],B=m[1],p=(0,s.useCallback)(function(c,Q){return d(function(an){return l()(l()({},an),Q)})},[d]),M=(0,s.useCallback)(function(){d({}),I.resetFields()},[I,d]);return(0,s.useEffect)(function(){return I.setFieldsValue(r)},[r]),(0,e.jsxs)(Oe,{style:l()(l()({},Ne),h),className:o,children:[(0,e.jsx)(Me,{children:Z<570?L?(0,e.jsx)(Pe.Z,{onClick:B}):(0,e.jsx)(we.Z,{onClick:B}):""}),L||Z>=570?(0,e.jsxs)(G.Z,{form:I,labelCol:{xl:6,md:4,xs:2},onValuesChange:C?function(){}:p,size:k,children:[(0,e.jsxs)(te,{children:[v==null||(t=v.filter(function(c){return!c.more}))===null||t===void 0?void 0:t.map(function(c,Q){return(0,e.jsx)(Fn.Z,{md:12,xs:24,xl:8,xxl:8,children:(0,e.jsx)(un,{animation:x.animation,index:Q,children:(0,e.jsx)(G.Z.Item,{name:c.dataIndex,label:c.title,style:{margin:"10px 0"},children:(0,e.jsx)(sn,{content:c,size:k,typeKey:"conditionType",type:w.EDIT,value:""})},c.key)})},c.key)}),W&&(v==null||(i=v.filter(function(c){return c.more}))===null||i===void 0?void 0:i.map(function(c,Q){return(0,e.jsx)(Fn.Z,{md:12,xs:24,xl:8,xxl:6,children:(0,e.jsx)(un,{animation:x.animation,index:Q,children:(0,e.jsx)(G.Z.Item,{name:c.dataIndex,label:c.title,style:{margin:"10px 0"},children:(0,e.jsx)(sn,{content:c,size:k,typeKey:"conditionType",type:w.EDIT,value:""})},c.key)})},c.key)}))]}),(0,e.jsx)(te,{justify:"space-between",children:(0,e.jsx)(Fn.Z,{span:24,style:{textAlign:"right"},children:(0,e.jsx)(G.Z.Item,{children:(0,e.jsx)(un,{animation:x.animation,index:(a=v==null?void 0:v.length)!==null&&a!==void 0?a:5,children:(0,e.jsxs)(tn.Z,{direction:Z<570?"vertical":"horizontal",style:{width:Z<570?"100%":void 0,textAlign:"right"},children:[v.find(function(c){return c.more})?(0,e.jsx)(U.ZP,{icon:W?(0,e.jsx)(ze.Z,{}):(0,e.jsx)(Le.Z,{}),onClick:Y,block:Z<570,type:"link",children:"\u66F4\u591A\u6761\u4EF6"}):"",C?(0,e.jsx)(U.ZP,{block:Z<570,onClick:function(){return d(I.getFieldsValue())},type:"primary",children:"\u786E\u5B9A"}):"",(0,e.jsx)(U.ZP,{onClick:function(){return M()},block:Z<570,danger:!0,children:"\u6E05\u7A7A"})]})})})})})]}):(0,e.jsx)(e.Fragment,{})]})}var Zn=We,En=u(38289),Ke=["affairData","affairWidth","columns","extendFormItem","type","isShowSumbit","hiddenLabels","onAffairSuccess"];function Xe(n){var t=n.affairData,i=t===void 0?{}:t,a=n.affairWidth,r=n.columns,o=r===void 0?[]:r,h=n.extendFormItem,v=n.type,d=v===void 0?w.ADD:v,g=n.isShowSumbit,C=g===void 0?!0:g,k=n.hiddenLabels,x=k===void 0?[]:k,z=n.onAffairSuccess,D=J()(n,Ke),I=G.Z.useForm(),V=f()(I,1),F=V[0],W=(0,s.useMemo)(function(){return o.filter(function(p){return!!p.linked}).map(function(p){return p.linked})},[o]);(0,s.useEffect)(function(){return console.log(W)},[W]);var Y=dn(),Z=f()(Y,2),S=Z[0],m=Z[1],L=Sn(),B=(0,s.useCallback)(function(){F.validateFields().then(function(p){m(),z==null||z(p).then(function(){return m()})})},[F,d]);return(0,s.useEffect)(function(){return Object.keys(i).length===0?F.resetFields():F.setFieldsValue(l()({enabled:0},i))},[i]),(0,e.jsxs)(G.Z,l()(l()({form:F,layout:"horizontal",labelAlign:"right",labelCol:{span:a&&a>900?2:3},labelWrap:!0},D),{},{children:[(0,e.jsx)(G.Z.Item,{style:{display:"none"},name:"id",children:(0,e.jsx)(En.Z,{type:"hidden"})}),o==null?void 0:o.map(function(p,M){var c;return(0,e.jsx)(ln,{animation:D.animation,index:M,children:(0,e.jsx)(G.Z.Item,{label:(0,e.jsx)(e.Fragment,{children:x.includes(p.title)?"":p.title}),name:p.dataIndex,rules:(c=p.rules)!==null&&c!==void 0?c:[],children:(0,e.jsx)(sn,l()({linkeds:W,value:!0,content:p,onChange:p.onChange,type:d,typeKey:"affairType"},D))},p.key)},p.key)}),(0,e.jsx)(ln,{animation:D.animation,index:o.length+1,children:h}),C?(0,e.jsx)(ln,{animation:D.animation,index:h?o.length+2:o.length+1,children:(0,e.jsx)(G.Z.Item,{wrapperCol:{offset:o.filter(function(p){return x.includes(p.title)}).length?0:a&&a>900?2:L<570?0:3},children:(0,e.jsxs)(tn.Z,{style:{width:L<570?"100%":void 0},direction:L<570?"vertical":"horizontal",children:[(0,e.jsx)(U.ZP,{loading:S,block:L<570,type:"primary",onClick:B,children:"\u786E\u8BA4"}),d!==w.DISPLAY?(0,e.jsx)(U.ZP,{block:L<570,danger:!0,onClick:function(){return F.resetFields()},children:"\u6E05\u7A7A"}):""]})})}):""]}))}var xn=Xe,Ge=u(9783),j=u.n(Ge),Ue=u(63960),Qe=u(3303),He=u(84567),Ve=u(51663),ie=u(96864),Je=u(13457),Ye=u(55742),qe=u(59606),_e=u(41637),nt=u(86125),et=u(34041),tt=u(68351),it=u(40784),ot=u(59847),at=u(19632),Dn=u.n(at),pn=function(){var n={},t=0;function i(r,o){t++,n[r]=n[r]?[].concat(Dn()(n[r]),[{callback:o,uuid:t}]):[{callback:o,uuid:t}]}function a(r,o){n[r]&&n[r].map(function(h){return h.callback(o)})}return{install:function(o){return o.uuid=t,o.publish=a,o.subscribe=i,o}}}(),rt=function(t){var i=pn.install({});(0,s.useEffect)(function(){return i.publish("extendFormItem",t)},[t])},lt=function(){var t=pn.install({}),i=(0,s.useState)({}),a=f()(i,2),r=a[0],o=a[1];return t.subscribe("extendFormItem",function(h){return o(function(v){return l()(l()({},v),h)})}),r},ut=function(t,i){var a=pn.install({});(0,s.useEffect)(function(){t&&a.publish(t,i)},[i])},st=function(t){var i=pn.install({}),a=(0,s.useState)(),r=f()(a,2),o=r[0],h=r[1];if(t)return i.subscribe(t,function(v){return h(v)}),o},dt=["conditionType","affairType","dataIndex","linked","more"];function ct(n){var t,i,a,r=(0,s.useState)(!1),o=f()(r,2),h=o[0],v=o[1],d=n.content,g=n.value,C=n.onChange,k=n.linkeds,x=n.size,z=n.type,D=n.typeKey,I=d.conditionType,V=d.affairType,F=d.dataIndex,W=d.linked,Y=d.more,Z=J()(d,dt);ut(k!=null&&k.includes(d.key)?d.key:void 0,g);var S=l()({value:g,onChange:C,size:x},Z),m=z===w.DISPLAY,L=(i={},j()(j()(j()(j()(j()(j()(j()(j()(j()(j()(i,E.AutoComplete,(0,e.jsx)(Ue.Z,l()({disabled:m},S))),E.Cascader,(0,e.jsx)(Qe.Z,l()({disabled:m,placeholder:"\u8BF7\u8F93\u5165".concat(d.title),options:d.options},S))),E.Checkbox,(0,e.jsx)(He.Z.Group,l()({disabled:m,options:d.options},S))),E.ColorPicker,(0,e.jsx)(Ve.Z,l()({disabled:m},S))),E.DatePicker,(0,e.jsx)(ie.default,l()({disabled:m},S))),E.Input,m?(0,e.jsx)(e.Fragment,{children:g}):(0,e.jsx)(En.Z,l()({value:g,placeholder:"\u8BF7\u8F93\u5165".concat(d.title),onChange:C},S))),E.InputNumber,m?(0,e.jsx)(e.Fragment,{children:g}):(0,e.jsx)(Je.Z,l()({},S))),E.Radio,(0,e.jsx)(Ye.ZP.Group,l()({disabled:m,options:d.options},S))),E.Rate,(0,e.jsx)(qe.Z,l()({disabled:m},S))),E.RangePicker,(0,e.jsx)(ie.default.RangePicker,l()({disabled:m},S))),j()(j()(j()(j()(j()(j()(j()(i,E.Switch,(0,e.jsx)(_e.Z,l()({onChange:function(c){return C==null?void 0:C(c===!0?1:0)},checked:typeof g=="undefined"?!0:!!g,disabled:z===w.DISPLAY},S))),E.Slider,(0,e.jsx)(nt.Z,l()({disabled:m},S))),E.Select,m?(0,e.jsx)(e.Fragment,{children:(t=d.options)===null||t===void 0||(t=t.find(function(M){return M.value===g}))===null||t===void 0?void 0:t.label}):(0,e.jsx)(et.default,l()({style:{minWidth:100},allowClear:!0,options:d.options,onChange:function(c){d.linked&&localStorage.setItem(d.dataIndex,c),C==null||C(c)},placeholder:"\u8BF7\u9009\u62E9".concat(d.title),value:g},S))),E.TimePicker,(0,e.jsx)(tt.Z,l()({disabled:m},S))),E.TextArea,m?(0,e.jsx)("pre",{children:g}):(0,e.jsx)(En.Z.TextArea,l()({disabled:m,placeholder:"\u8BF7\u8F93\u5165".concat(d.title),rows:5},S))),E.Transfer,(0,e.jsx)(it.Z,l()({disabled:m},S))),E.TreeSelect,(0,e.jsx)(ot.Z,l()({disabled:m},S)))),B=lt();Object.keys(B).forEach(function(M){Object.defineProperty(L,M,{get:function(){return B[M]({content:d,value:g,onChange:C,size:x,type:z,typeKey:D})}})});var p=st(W);return(0,s.useEffect)(function(){h&&(C==null||C(void 0))},[p]),(0,s.useEffect)(function(){setTimeout(function(){return v(!0)},1e3)},[]),d!=null&&d[D]?(a=L[d==null?void 0:d[D]])!==null&&a!==void 0?a:(0,e.jsx)(e.Fragment,{children:"\u6682\u65E0\u5339\u914D\u9879"}):(0,e.jsx)(e.Fragment,{})}var sn=ct,ft=["addAffair","delAffair","editAffair","batchDelAffair","formatList","getLists","onModalClose"];function yn(n){return new Promise(function(t){t({data:[],code:200,msg:""})})}function vt(n){var t=n.addAffair,i=n.delAffair,a=n.editAffair,r=n.batchDelAffair,o=n.formatList,h=o===void 0?function(R){return R}:o,v=n.getLists,d=n.onModalClose,g=J()(n,ft),C=(0,s.useState)(function(){return $n(window.location.href)}),k=f()(C,2),x=k[0],z=k[1],D=on(t!=null?t:yn),I=f()(D,3),V=I[0],F=I[1],W=I[2],Y=on(r!=null?r:yn),Z=f()(Y,3),S=Z[0],m=Z[1],L=Z[2],B=on(i!=null?i:yn),p=f()(B,3),M=p[0],c=p[1],Q=p[2],an=on(a!=null?a:yn),cn=f()(an,3),y=cn[0],wn=cn[1],fn=cn[2],jn=on(v,{refreshDeps:[x],debounceWait:400}),X=f()(jn,3),vn=X[0],mn=X[1],nn=X[2],zn=(0,s.useMemo)(function(){var R;return h==null?void 0:h((R=nn==null?void 0:nn.data)!==null&&R!==void 0?R:[])},[nn]),Ln=(0,s.useCallback)(function(R){return z(R)},[]),bn=j()(j()({},w.ADD,F),w.EDIT,wn),Bn=(0,s.useCallback)(function(R,hn){return bn[hn](R).then(function(){return d==null?void 0:d()})},[mn,x]),Tn=(0,s.useCallback)(function(R){return c(R)},[]),An=function(hn){return m(hn)};return(0,s.useEffect)(function(){mn(x)},[x]),(0,s.useEffect)(function(){(W||Q||fn)&&mn(x)},[W,L,Q,fn]),(0,e.jsx)(In,l()({addLoading:t?V:void 0,batchDeleteLoading:i?S:void 0,deleteLoading:i?M:void 0,editLoading:a?y:void 0,dataSource:zn,loading:vn,onAffairSuccess:Bn,onBatchDelete:An,onModalClose:d,onClickDeleteButton:Tn,onConditionChange:Ln},g))}var oe=vt,mt=function(){return(0,e.jsx)(e.Fragment,{})},ht=mt,gt=u(50888),Ct=u(70451),ae=u(85576),xt=u(85418),pt=u(40056),yt=u(86738),re=u(47921),St=u(85265),jt=u(82826),le,ue,se,bt=N.ZP.div(le||(le=O()([`
  background-color: @primary-color;
`]))),Tt=N.ZP.div(ue||(ue=O()([`
  display: flex;
  justify-content: space-between;
  align-items: center;
`]))),At={background:"#fff",padding:15},kt=N.ZP.div(se||(se=O()([""]))),de=function(t){var i=t.affairName,a=i===void 0?"":i,r=t.backPath,o=r===void 0?"":r,h=t.decription,v=t.extendAffair,d=t.onClickAdd,g=t.pageTitle,C=g===void 0?"":g,k=t.titleContainerStyle,x=t.titleContainerClass,z=(0,s.useCallback)(function(){window.location.href.includes("/#/")?window.location.hash=o:window.location.href=o},[o]);return(0,e.jsx)(bt,{className:x,style:l()(l()({},At),k),children:(0,e.jsxs)(Tt,{children:[(0,e.jsxs)(tn.Z,{children:[o&&o!==""?(0,e.jsx)(U.ZP,{icon:(0,e.jsx)(jt.Z,{}),onClick:z,type:"link"}):"",C,h]}),(0,e.jsx)(kt,{children:(0,e.jsxs)(tn.Z,{children:[v,d?(0,e.jsxs)(U.ZP,{onClick:d,type:"primary",children:["+ \u65B0\u589E",a]}):""]})})]})})},ce=de,Ft=u(1706),di=u(65570),Zt=["onResize","width"],Et=function(t){var i=t.onResize,a=t.width,r=J()(t,Zt);return a?(0,e.jsx)(Ft.Resizable,{width:a,height:0,onResize:i,children:(0,e.jsx)("th",l()({},r))}):(0,e.jsx)("th",l()({},r))},Dt=function(t){var i,a=(0,s.useState)((i=t.columns)!==null&&i!==void 0?i:[]),r=f()(a,2),o=r[0],h=r[1],v=function(C){return function(k,x){var z=x.size;h(function(D){var I=Dn()(D);return I[C]=l()(l()({},I[C]),{},{width:z.width}),I})}},d=o==null?void 0:o.map(function(g,C){return l()(l()({},g),{},{onHeaderCell:function(x){return{width:x.width,onResize:v(C)}}})});return(0,e.jsx)(re.Z,l()(l()({},t),{},{columns:d,components:{header:{cell:Et}},scroll:{x:"max-content"}}))},It=Dt,$t=["affairContainerType","affairName","backPath","batchDeleteLoading","columns","extendAffair","resize","size","pageTitle","onAffairSuccess","onBatchDelete","onModalClose","showBatch","onConditionChange","tableContainerStyle","titleContainerStyle"],Pt=["title"],fe,ve,wt=N.ZP.div(fe||(fe=O()([`
  background-color: @primary-color;
`]))),zt=N.ZP.div(ve||(ve=O()([`
  display: flex;
  justify-content: right;
`]))),Lt={background:"#fff",padding:15,margin:15};function Bt(n){var t,i,a,r,o=n.affairContainerType,h=o===void 0?"modal":o,v=n.affairName,d=v===void 0?"":v,g=n.backPath,C=g===void 0?"":g,k=n.batchDeleteLoading,x=n.columns,z=n.extendAffair,D=n.resize,I=D===void 0?!1:D,V=n.size,F=V===void 0?"middle":V,W=n.pageTitle,Y=W===void 0?"":W,Z=n.onAffairSuccess,S=Z===void 0?function(){return new Promise(function(){})}:Z,m=n.onBatchDelete,L=n.onModalClose,B=L===void 0?function(){}:L,p=n.showBatch,M=n.onConditionChange,c=n.tableContainerStyle,Q=c===void 0?{}:c,an=n.titleContainerStyle,cn=an===void 0?{}:an,y=J()(n,$t),wn=dn(),fn=f()(wn,2),jn=fn[0],X=fn[1],vn=Sn(),mn=ae.Z.useModal(),nn=f()(mn,2),zn=nn[0],Ln=nn[1],bn=j()(j()(j()({},w.ADD,"\u65B0\u589E"),w.EDIT,"\u7F16\u8F91"),w.DISPLAY,"\u67E5\u770B"),Bn=(0,s.useState)({}),Tn=f()(Bn,2),An=Tn[0],R=Tn[1],hn=(0,s.useState)(w.ADD),me=f()(hn,2),rn=me[0],Rn=me[1],Yt=(0,s.useState)([]),he=f()(Yt,2),gn=he[0],On=he[1],qt=(0,Ct.Z)(),ge=f()(qt,2),_t=ge[0],q=ge[1].toggle,ni=(0,s.useCallback)(function($){q(),Rn(w.EDIT),R($),X()},[]),ei=(0,s.useCallback)(function($){q(),Rn(w.DISPLAY),R($),X()},[]),ti=(0,s.useCallback)(function($){var T;q(),window.localStorage.setItem("deleteKeys",$.join(",")),(T=y.onClickDeleteButton)===null||T===void 0||T.call(y,$).then(function(){return window.localStorage.removeItem("deleteKeys")}).catch(function(){return window.localStorage.removeItem("deleteKeys")})},[]),ii=(0,s.useCallback)(function(){q(),Rn(w.ADD),R({}),X()},[]),oi=(0,s.useState)($n(window.location.href)),Ce=f()(oi,2),Nn=Ce[0],ai=Ce[1],ri=function(T){var A,K;return[y.editLoading!==void 0?{loading:function(){return!1},onClick:function(){return ni(T)},size:F,hidden:function(){return!1},type:"primary",title:"\u7F16\u8F91"}:void 0,y.deleteLoading!==void 0?{loading:(A=window.localStorage.getItem("deleteKeys"))===null||A===void 0||(A=A.split(","))===null||A===void 0?void 0:A.includes(T[y.rowKey]),onClick:function(){zn.confirm({okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onOk:function(){return ti([T[y.rowKey]])},title:"\u60A8\u786E\u8BA4\u5220\u9664\u8FD9\u6761".concat(d,"\u6570\u636E\u5417\uFF1F")})},size:F,danger:!0,title:"\u5220\u9664"}:void 0,{onClick:function(){return ei(T)},size:F,loading:function(){return!1},hidden:function(){return!1},title:"\u8BE6\u60C5"}].concat(Dn()((K=y.extend)!==null&&K!==void 0?K:[])).filter(function(b){return b})},xe=(0,s.useMemo)(function(){return{title:"\u64CD\u4F5C",dataIndex:"action",key:"action",width:vn<768?50:250,fixed:"right",render:function(T,A,K){var b,Cn=ri(A).filter(function(P){var _;return!(P!=null&&(_=P.hidden)!==null&&_!==void 0&&_.call(P,A,K))}),ui=Cn.map(function(P){return{label:P==null?void 0:P.title,key:P==null?void 0:P.title,onClick:function(){var en;return P==null||(en=P.onClick)===null||en===void 0?void 0:en.call(P,A,K)}}});return vn<768?(0,e.jsx)(xt.Z,{placement:"bottomRight",menu:{items:ui},children:(0,e.jsx)(U.ZP,{type:"link",children:(b=window.localStorage.getItem("deleteKeys"))!==null&&b!==void 0&&(b=b.split(","))!==null&&b!==void 0&&b.includes(A[y.rowKey])?(0,e.jsx)(gt.Z,{}):"\xB7\xB7\xB7"})}):(0,e.jsx)(tn.Z,{children:Cn.map(function(P){var _,en,Mn,Wn=P.title,H=J()(P,Pt);return(0,e.jsx)(U.ZP,l()(l()({},H),{},{loading:typeof H.loading=="boolean"?H.loading:(_=H.loading)===null||_===void 0?void 0:_.call(H,A,K),hidden:(en=H.hidden)===null||en===void 0?void 0:en.call(H,A,K),disabled:(Mn=H.disabled)===null||Mn===void 0?void 0:Mn.call(H,A,K),children:typeof Wn=="function"?Wn(A,K):Wn}),H.key)})})}}},[vn]),pe=(0,s.useMemo)(function(){var $=x.filter(function(T){return!T.hiddenInTable}).map(function(T){return T.options?l()(l()({},T),{},{render:function(K){var b;return(b=T.options)===null||b===void 0||(b=b.find(function(Cn){return Cn.value===K}))===null||b===void 0?void 0:b.label}}):T});return $.find(function(T){return T.title==="\u64CD\u4F5C"})?$:$.concat(xe)},[xe,x]),ye=(0,s.useMemo)(function(){return x.filter(function($){return $.conditionType})},[x]),Se=(0,s.useMemo)(function(){return x.filter(function($){return $.affairType})},[x]),je=(0,s.useCallback)(function(){B==null||B(),X()},[]),li=(0,s.useCallback)(function(){B==null||B(),X()},[]),be=function(T){return rn===w.DISPLAY?new Promise(function(A){X(),A({})}):S(T,rn).then(function(){return X()}).catch(function(A){throw new Error(A)})};return(0,s.useEffect)(function(){return M&&M(Nn)},[Nn]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(de,{animation:y.animation,affairName:d,backPath:C,decription:y.decription,extendAffair:z,onClickAdd:y.addLoading!==void 0?ii:void 0,pageTitle:Y,titleContainerClass:y.titleContainerClass,titleContainerStyle:cn}),ye.length?(0,e.jsx)(Zn,{animation:y.animation,columns:ye,conditionContainerClass:y.conditionContainerClass,conditionContainerStyle:y.conditionContainerStyle,condition:Nn,size:F,showConditionOkBtn:y.showConditionOkBtn,onConditionChange:ai}):"",(0,e.jsxs)(wt,{className:y.tableContainerClass,style:l()(l()({},Lt),Q),children:[gn.length?(0,e.jsx)(pt.Z,{style:{marginBottom:14},type:"error",message:(0,e.jsx)(zt,{children:(0,e.jsxs)(tn.Z,{children:[(0,e.jsxs)(e.Fragment,{children:["\u5F53\u524D\u5DF2\u9009\u62E9 ",gn.length," \u6761\u6570\u636E"]}),(0,e.jsx)(yt.Z,{title:"\u786E\u8BA4\u5220\u9664\u6240\u9009".concat(d,"\u5417\uFF1F"),onCancel:q,onPopupClick:q,okButtonProps:{loading:k,onClick:function(){return m==null?void 0:m(gn).then(function(){q(),On([])})}},open:_t,children:(0,e.jsx)(U.ZP,{danger:!0,onClick:q,children:"\u5220\u9664"})})]})})}):"",I?(0,e.jsx)(It,l()(l()({columns:pe,size:F},y),{},{rowSelection:p?{type:(t=(i=y.rowSelection)===null||i===void 0?void 0:i.type)!==null&&t!==void 0?t:"checkbox",selectedRowKeys:gn,onChange:On}:void 0})):(0,e.jsx)(re.Z,l()(l()({columns:pe,size:F,scroll:{x:500}},y),{},{rowSelection:p?{type:(a=(r=y.rowSelection)===null||r===void 0?void 0:r.type)!==null&&a!==void 0?a:"checkbox",selectedRowKeys:gn,onChange:On}:void 0}))]}),Ln,h==="modal"?(0,e.jsx)(ae.Z,{open:jn,width:y.affairWidth,onCancel:je,onOk:li,title:bn[rn]+d,footer:!1,children:(0,e.jsx)(xn,{animation:y.animation,affairWidth:700,columns:Se,affairData:An,type:rn,onAffairSuccess:be})}):(0,e.jsx)(St.Z,{open:jn,width:y.affairWidth,onClose:je,title:bn[rn]+d,footer:!1,children:(0,e.jsx)(xn,{animation:y.animation,affairWidth:700,columns:Se,affairData:An,type:rn,onAffairSuccess:be})})]})}var In=Bt,Rt=function(){return(0,e.jsx)(e.Fragment,{})},Ot=Rt,w=function(n){return n.ADD="add",n.DISPLAY="display",n.EDIT="edit",n}({}),E=function(n){return n.AutoComplete="AutoComplete",n.Cascader="Cascader",n.Checkbox="Checkbox",n.DatePicker="DatePicker",n.Input="Input",n.InputNumber="InputNumber",n.Radio="Radio",n.Rate="Rate",n.RangePicker="RangePicker",n.SearchInput="SearchInput",n.Select="Select",n.Slider="Slider",n.Switch="Switch",n.TagList="TagList",n.TextArea="TextArea",n.TimePicker="TimePicker",n.Transfer="Transfer",n.TreeSelect="TreeSelect",n.ColorPicker="ColorPicker",n}({}),Nt=function(t){var i=(0,s.useState)(t!=null?t:{}),a=f()(i,2),r=a[0],o=a[1],h=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(un,l()({},r))}},[r]);return[r,o,h]};function Mt(n){var t=(0,s.useState)(n!=null?n:{}),i=f()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(Zn,l()({},a))}},[a]);return[a,r,o]}var Wt=u(71524);function on(n,t){var i=(0,Wt.Z)(n,t?l()({manual:!0},t):{manual:!0}),a=i.data,r=i.runAsync,o=i.loading;return[o,r,a]}function Kt(n){var t=(0,s.useState)(n!=null?n:{}),i=f()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(xn,l()({},a))}},[a]);return[a,r,o]}function Xt(n){var t=(0,s.useState)(n!=null?n:{}),i=f()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(sn,l()({},a))}},[a]);return[a,r,o]}function Gt(n){var t=(0,s.useState)(n!=null?n:{}),i=f()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(oe,l()({},a))}},[a]);return[a,r,o]}var Ut=u(97303),Sn=function(){var t=(0,s.useState)(function(){return window.document.body.offsetWidth}),i=f()(t,2),a=i[0],r=i[1];return(0,Ut.Z)(function(){return window.addEventListener("resize",function(o){return r((o==null?void 0:o.target).innerWidth)}),window.removeEventListener("resize",function(o){return r((o==null?void 0:o.target).innerWidth)})},[],{wait:1e3}),a};function Qt(n){var t=(0,s.useState)(n!=null?n:{}),i=f()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(In,l()({},a))}},[a]);return[a,r,o]}function Ht(n){var t=(0,s.useState)(n!=null?n:{}),i=f()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(ce,l()({},a))}},[a]);return[a,r,o]}var Vt=u(36705),dn=function(){var t=(0,Vt.Z)(),i=f()(t,2),a=i[0],r=i[1].toggle;return[a,r]},$n=function(t,i){var a=t.slice(t.indexOf("?"));return a.slice(1).split("&").reduce(function(r,o){return o.split("=")[1]&&(r[o.split("=")[0]]=o.split("=")[1].length>15||decodeURI(o.split("=")[1])===""||isNaN(Number(decodeURI(o.split("=")[1])))?decodeURI(o.split("=")[1]):Number(decodeURI(o.split("=")[1]))),r},i!=null?i:{current:1,pageSize:10})},Pn=function(t){return JSON.stringify(t)},Jt=function(t,i){return Pn(t)===Pn(i)}}}]);
