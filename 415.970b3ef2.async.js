"use strict";(self.webpackChunkraetable=self.webpackChunkraetable||[]).push([[415],{53415:function(di,Xn,u){u.r(Xn),u.d(Xn,{BottomToTop:function(){return ln},EAnimation:function(){return un},ECondition:function(){return En},EForm:function(){return xn},EFormItem:function(){return sn},EPage:function(){return ae},ETable:function(){return $n},ETitle:function(){return fe},FORMTYPE:function(){return F},LeftToRight:function(){return _n},OPERATION:function(){return D},RightToLeft:function(){return qn},_ESelect:function(){return gt},__ETableProps:function(){return Nt},formatSearch:function(){return Pn},objectIsQqual:function(){return Yt},objectToString:function(){return wn},useAnimation:function(){return Mt},useCondition:function(){return Wt},useExtendFormItem:function(){return lt},useFetch:function(){return on},useForm:function(){return Xt},useFormItem:function(){return Gt},usePage:function(){return Ut},useResize:function(){return Sn},useTable:function(){return Ht},useTitle:function(){return Vt},useTrigger:function(){return dn}});var Ae=u(42122),l=u.n(Ae),ke=u(70215),Y=u.n(ke),Fe=u(59400),O=u.n(Fe),s=u(67294),N=u(94589),e=u(85893),Ze=["direction","animation"],Gn,Un,Qn,Hn,Vn,Jn,Yn,Fn=(0,N.F4)(Gn||(Gn=O()([`
  100% {
    transform: translateX(0);
    opacity: 1
  }
`]))),Ee=(0,N.F4)(Un||(Un=O()([`
  0% {
    transform: translateX(50%);
  }
  80% {
    transform: translateX(-2%)
  }
  100% {
    transform: translateX(0);
    opacity: 1
  }
`]))),Ie=(0,N.F4)(Qn||(Qn=O()([`
  0% {
    transform: translateX(-50%);
  }
  80% {
    transform: translateX(2%)
  }
  100% {
    transform: translateX(0);
    opacity: 1
  }
`]))),De=(0,N.F4)(Hn||(Hn=O()([`
  0% {
    transform: translateY(50%);
  }

  80% {
    transform: translateY(-10%);
  }

  100% {
    transform: translateY(0);
    opacity: 1
  }
`]))),qn=N.ZP.div(Vn||(Vn=O()([`
  transform: `,`;
  opacity: 0;
  animation: `,`
    `,`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms;
`])),function(n){return n.animation===!1?"translateX(0%)":"translateX(50%)"},function(n){return n.animation===!1?Fn:Ee},function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,i;return n.animation===!1?0:((t=n.index)!==null&&t!==void 0?t:0)*((i=n.delay)!==null&&i!==void 0?i:130)}),_n=N.ZP.div(Jn||(Jn=O()([`
  transform: `,`;
  opacity: 0;
  animation: `,`
    `,`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms;
`])),function(n){return n.animation===!1?"translateX(0)":"translateX(-100%)"},function(n){return n.animation===!1?Fn:Ie},function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,i;return n.animation===!1?0:((t=n.index)!==null&&t!==void 0?t:0)*((i=n.delay)!==null&&i!==void 0?i:130)}),ln=N.ZP.div(Yn||(Yn=O()([`
  width: 100%;
  transform: `,`;
  opacity: 0;
  animation: `,`
    `,`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms;
`])),function(n){return n.animation===!1?"translateY(0)":"translateY(50%)"},function(n){return n.animation===!1?Fn:De},function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,i;return n.animation===!1?0:((t=n.index)!==null&&t!==void 0?t:0)*((i=n.delay)!==null&&i!==void 0?i:130)}),$e=function(t){var i=t.direction,a=i===void 0?"BT":i,r=t.animation,o=r===void 0?!0:r,C=Y()(t,Ze),m={BT:(0,e.jsx)(ln,l()({animation:o},C)),RL:(0,e.jsx)(qn,l()({animation:o},C)),LR:(0,e.jsx)(_n,l()({animation:o},C))};return m[a]},un=$e,Pe=u(27424),v=u.n(Pe),we=u(12057),ze=u(71744),Le=u(55047),Be=u(39161),Re=u(71230),G=u(15612),Zn=u(15746),tn=u(42075),U=u(15867),Oe=["condition","conditionContainerClass","conditionContainerStyle","columns","onConditionChange","showConditionOkBtn","size"],ne,ee,te,Ne=N.ZP.div(ne||(ne=O()([`
  background-color: @primary-color;
`]))),Me={background:"#fff",padding:15,margin:15},ie=(0,N.ZP)(Re.Z)(ee||(ee=O()([`
  width: 100%;
  margin: 10px 0px;
`]))),We=N.ZP.div(te||(te=O()([`
  text-align: right;
  color: #777;
`])));function Ke(n){var t,i,a,r=n.condition,o=n.conditionContainerClass,C=n.conditionContainerStyle,m=n.columns,d=n.onConditionChange,f=n.showConditionOkBtn,g=f===void 0?!1:f,Z=n.size,T=Y()(n,Oe),S=G.Z.useForm(),$=v()(S,1),P=$[0],Q=dn(),M=v()(Q,2),w=M[0],H=M[1],B=Sn(),x=dn(),p=v()(x,2),z=p[0],W=p[1],h=(0,s.useCallback)(function(c,V){return d(function(an){return l()(l()({},an),V)})},[d]),L=(0,s.useCallback)(function(){d({}),P.resetFields()},[P,d]);return(0,s.useEffect)(function(){return P.setFieldsValue(r)},[r]),(0,e.jsxs)(Ne,{style:l()(l()({},Me),C),className:o,children:[(0,e.jsx)(We,{children:B<570?z?(0,e.jsx)(we.Z,{onClick:W}):(0,e.jsx)(ze.Z,{onClick:W}):""}),z||B>=570?(0,e.jsxs)(G.Z,{form:P,labelCol:{xl:6,md:4,xs:2},onValuesChange:g?function(){}:h,size:Z,children:[(0,e.jsxs)(ie,{children:[m==null||(t=m.filter(function(c){return!c.more}))===null||t===void 0?void 0:t.map(function(c,V){return(0,e.jsx)(Zn.Z,{md:12,xs:24,xl:8,xxl:8,children:(0,e.jsx)(un,{animation:T.animation,index:V,children:(0,e.jsx)(G.Z.Item,{name:c.dataIndex,label:c.title,style:{margin:"10px 0"},children:(0,e.jsx)(sn,{content:c,size:Z,typeKey:"conditionType",type:D.EDIT,value:""})},c.key)})},c.key)}),w&&(m==null||(i=m.filter(function(c){return c.more}))===null||i===void 0?void 0:i.map(function(c,V){return(0,e.jsx)(Zn.Z,{md:12,xs:24,xl:8,xxl:6,children:(0,e.jsx)(un,{animation:T.animation,index:V,children:(0,e.jsx)(G.Z.Item,{name:c.dataIndex,label:c.title,style:{margin:"10px 0"},children:(0,e.jsx)(sn,{content:c,size:Z,typeKey:"conditionType",type:D.EDIT,value:""})},c.key)})},c.key)}))]}),(0,e.jsx)(ie,{justify:"space-between",children:(0,e.jsx)(Zn.Z,{span:24,style:{textAlign:"right"},children:(0,e.jsx)(G.Z.Item,{children:(0,e.jsx)(un,{animation:T.animation,index:(a=m==null?void 0:m.length)!==null&&a!==void 0?a:5,children:(0,e.jsxs)(tn.Z,{direction:B<570?"vertical":"horizontal",style:{width:B<570?"100%":void 0,textAlign:"right"},children:[m.find(function(c){return c.more})?(0,e.jsx)(U.ZP,{icon:w?(0,e.jsx)(Le.Z,{}):(0,e.jsx)(Be.Z,{}),onClick:H,block:B<570,type:"link",children:"\u66F4\u591A\u6761\u4EF6"}):"",g?(0,e.jsx)(U.ZP,{block:B<570,onClick:function(){return d(P.getFieldsValue())},type:"primary",children:"\u786E\u5B9A"}):"",(0,e.jsx)(U.ZP,{onClick:function(){return L()},block:B<570,danger:!0,children:"\u6E05\u7A7A"})]})})})})})]}):(0,e.jsx)(e.Fragment,{})]})}var En=Ke,In=u(89847),Xe=["affairData","affairWidth","columns","extendFormItem","type","isShowSumbit","hiddenLabels","onAffairSuccess"];function Ge(n){var t=n.affairData,i=t===void 0?{}:t,a=n.affairWidth,r=n.columns,o=r===void 0?[]:r,C=n.extendFormItem,m=n.type,d=m===void 0?D.ADD:m,f=n.isShowSumbit,g=f===void 0?!0:f,Z=n.hiddenLabels,T=Z===void 0?[]:Z,S=n.onAffairSuccess,$=Y()(n,Xe),P=G.Z.useForm(),Q=v()(P,1),M=Q[0],w=(0,s.useMemo)(function(){return o.filter(function(h){return!!h.linked}).map(function(h){return h.linked})},[o]);(0,s.useEffect)(function(){return console.log(w)},[w]);var H=dn(),B=v()(H,2),x=B[0],p=B[1],z=Sn(),W=(0,s.useCallback)(function(){M.validateFields().then(function(h){p(),S==null||S(h).then(function(){return p()})})},[M,d]);return(0,s.useEffect)(function(){return Object.keys(i).length===0?M.resetFields():M.setFieldsValue(l()({enabled:0},i))},[i]),(0,e.jsxs)(G.Z,l()(l()({form:M,layout:"horizontal",labelAlign:"right",labelCol:{span:a&&a>900?2:3},labelWrap:!0},$),{},{children:[(0,e.jsx)(G.Z.Item,{style:{display:"none"},name:"id",children:(0,e.jsx)(In.Z,{type:"hidden"})}),o==null?void 0:o.map(function(h,L){var c;return(0,e.jsx)(ln,{animation:$.animation,index:L,children:(0,e.jsx)(G.Z.Item,{label:(0,e.jsx)(e.Fragment,{children:T.includes(h.title)?"":h.title}),name:h.dataIndex,rules:(c=h.rules)!==null&&c!==void 0?c:[],children:(0,e.jsx)(sn,l()({linkeds:w,value:!0,content:h,onChange:h.onChange,type:d,typeKey:"affairType"},$))},h.key)},h.key)}),(0,e.jsx)(ln,{animation:$.animation,index:o.length+1,children:C}),g?(0,e.jsx)(ln,{animation:$.animation,index:C?o.length+2:o.length+1,children:(0,e.jsx)(G.Z.Item,{wrapperCol:{offset:o.filter(function(h){return T.includes(h.title)}).length?0:a&&a>900?2:z<570?0:3},children:(0,e.jsxs)(tn.Z,{style:{width:z<570?"100%":void 0},direction:z<570?"vertical":"horizontal",children:[(0,e.jsx)(U.ZP,{loading:x,block:z<570,type:"primary",onClick:W,children:"\u786E\u8BA4"}),d!==D.DISPLAY?(0,e.jsx)(U.ZP,{block:z<570,danger:!0,onClick:function(){return M.resetFields()},children:"\u6E05\u7A7A"}):""]})})}):""]}))}var xn=Ge,Ue=u(38416),j=u.n(Ue),Qe=u(49288),He=u(3303),Ve=u(84567),Je=u(80542),oe=u(35006),Ye=u(4215),qe=u(55742),_e=u(55621),nt=u(72269),et=u(71338),tt=u(34041),it=u(68351),ot=u(40784),at=u(59847),rt=u(861),Dn=u.n(rt),pn=function(){var n={},t=0;function i(r,o){t++,n[r]=n[r]?[].concat(Dn()(n[r]),[{callback:o,uuid:t}]):[{callback:o,uuid:t}]}function a(r,o){n[r]&&n[r].map(function(C){return C.callback(o)})}return{install:function(o){return o.uuid=t,o.publish=a,o.subscribe=i,o}}}(),lt=function(t){var i=pn.install({});(0,s.useEffect)(function(){return i.publish("extendFormItem",t)},[t])},ut=function(){var t=pn.install({}),i=(0,s.useState)({}),a=v()(i,2),r=a[0],o=a[1];return t.subscribe("extendFormItem",function(C){return o(function(m){return l()(l()({},m),C)})}),r},st=function(t,i){var a=pn.install({});(0,s.useEffect)(function(){t&&a.publish(t,i)},[i])},dt=function(t){var i=pn.install({}),a=(0,s.useState)(),r=v()(a,2),o=r[0],C=r[1];if(t)return i.subscribe(t,function(m){return C(m)}),o},ct=["conditionType","affairType","dataIndex","linked","more"];function ft(n){var t,i,a,r=(0,s.useState)(!1),o=v()(r,2),C=o[0],m=o[1],d=n.content,f=n.value,g=n.onChange,Z=n.linkeds,T=n.size,S=n.type,$=n.typeKey,P=d.conditionType,Q=d.affairType,M=d.dataIndex,w=d.linked,H=d.more,B=Y()(d,ct);st(Z!=null&&Z.includes(d.key)?d.key:void 0,f);var x=l()({value:f,onChange:g,size:T},B),p=S===D.DISPLAY,z=(i={},j()(i,F.AutoComplete,(0,e.jsx)(Qe.Z,l()({disabled:p},x))),j()(i,F.Cascader,(0,e.jsx)(He.Z,l()({disabled:p,placeholder:"\u8BF7\u8F93\u5165".concat(d.title),options:d.options},x))),j()(i,F.Checkbox,(0,e.jsx)(Ve.Z.Group,l()({disabled:p,options:d.options},x))),j()(i,F.ColorPicker,(0,e.jsx)(Je.Z,l()({disabled:p},x))),j()(i,F.DatePicker,(0,e.jsx)(oe.default,l()({disabled:p},x))),j()(i,F.Input,p?(0,e.jsx)(e.Fragment,{children:f}):(0,e.jsx)(In.Z,l()({value:f,placeholder:"\u8BF7\u8F93\u5165".concat(d.title),onChange:g},x))),j()(i,F.InputNumber,p?(0,e.jsx)(e.Fragment,{children:f}):(0,e.jsx)(Ye.Z,l()({},x))),j()(i,F.Radio,(0,e.jsx)(qe.ZP.Group,l()({disabled:p,options:d.options},x))),j()(i,F.Rate,(0,e.jsx)(_e.Z,l()({disabled:p},x))),j()(i,F.RangePicker,(0,e.jsx)(oe.default.RangePicker,l()({disabled:p},x))),j()(i,F.Switch,(0,e.jsx)(nt.Z,l()({onChange:function(c){return g==null?void 0:g(c===!0?1:0)},checked:typeof f=="undefined"?!0:!!f,disabled:S===D.DISPLAY},x))),j()(i,F.Slider,(0,e.jsx)(et.Z,l()({disabled:p},x))),j()(i,F.Select,p?(0,e.jsx)(e.Fragment,{children:(t=d.options)===null||t===void 0||(t=t.find(function(L){return L.value===f}))===null||t===void 0?void 0:t.label}):(0,e.jsx)(tt.default,l()({style:{minWidth:100},allowClear:!0,options:d.options,onChange:function(c){d.linked&&localStorage.setItem(d.dataIndex,c),g==null||g(c)},placeholder:"\u8BF7\u9009\u62E9".concat(d.title),value:f},x))),j()(i,F.TimePicker,(0,e.jsx)(it.Z,l()({disabled:p},x))),j()(i,F.TextArea,p?(0,e.jsx)("pre",{children:f}):(0,e.jsx)(In.Z.TextArea,l()({disabled:p,placeholder:"\u8BF7\u8F93\u5165".concat(d.title),rows:5},x))),j()(i,F.Transfer,(0,e.jsx)(ot.Z,l()({disabled:p},x))),j()(i,F.TreeSelect,(0,e.jsx)(at.Z,l()({disabled:p},x))),i),W=ut();Object.keys(W).forEach(function(L){Object.defineProperty(z,L,{get:function(){return W[L]({content:d,value:f,onChange:g,size:T,type:S,typeKey:$})}})});var h=dt(w);return(0,s.useEffect)(function(){C&&(g==null||g(void 0))},[h]),(0,s.useEffect)(function(){setTimeout(function(){return m(!0)},1e3)},[]),d!=null&&d[$]?(a=z[d==null?void 0:d[$]])!==null&&a!==void 0?a:(0,e.jsx)(e.Fragment,{children:"\u6682\u65E0\u5339\u914D\u9879"}):(0,e.jsx)(e.Fragment,{})}var sn=ft,vt=["addAffair","delAffair","editAffair","batchDelAffair","formatList","getLists","onModalClose"];function yn(n){return new Promise(function(t){t({data:[],code:200,msg:""})})}function mt(n){var t,i=n.addAffair,a=n.delAffair,r=n.editAffair,o=n.batchDelAffair,C=n.formatList,m=C===void 0?function(R){return R}:C,d=n.getLists,f=n.onModalClose,g=Y()(n,vt),Z=(0,s.useState)(function(){return Pn(window.location.href)}),T=v()(Z,2),S=T[0],$=T[1],P=on(i!=null?i:yn),Q=v()(P,3),M=Q[0],w=Q[1],H=Q[2],B=on(o!=null?o:yn),x=v()(B,3),p=x[0],z=x[1],W=x[2],h=on(a!=null?a:yn),L=v()(h,3),c=L[0],V=L[1],an=L[2],jn=on(r!=null?r:yn),cn=v()(jn,3),y=cn[0],zn=cn[1],fn=cn[2],bn=on(d,{refreshDeps:[S],debounceWait:400}),X=v()(bn,3),vn=X[0],mn=X[1],nn=X[2],Ln=(0,s.useMemo)(function(){var R;return m==null?void 0:m((R=nn==null?void 0:nn.data)!==null&&R!==void 0?R:[])},[nn]),Bn=(0,s.useCallback)(function(R){return $(R)},[]),Tn=(t={},j()(t,D.ADD,w),j()(t,D.EDIT,zn),t),Rn=(0,s.useCallback)(function(R,hn){return Tn[hn](R).then(function(){return f==null?void 0:f()})},[mn,S]),An=(0,s.useCallback)(function(R){return V(R)},[]),kn=function(hn){return z(hn)};return(0,s.useEffect)(function(){mn(S)},[S]),(0,s.useEffect)(function(){(H||an||fn)&&mn(S)},[H,W,an,fn]),(0,e.jsx)($n,l()({addLoading:i?M:void 0,batchDeleteLoading:a?p:void 0,deleteLoading:a?c:void 0,editLoading:r?y:void 0,dataSource:Ln,loading:vn,onAffairSuccess:Rn,onBatchDelete:kn,onModalClose:f,onClickDeleteButton:An,onConditionChange:Bn},g))}var ae=mt,ht=function(){return(0,e.jsx)(e.Fragment,{})},gt=ht,Ct=u(84273),xt=u(70451),re=u(5914),pt=u(85418),yt=u(38925),St=u(86738),le=u(17926),jt=u(85265),bt=u(37735),ue,se,de,Tt=N.ZP.div(ue||(ue=O()([`
  background-color: @primary-color;
`]))),At=N.ZP.div(se||(se=O()([`
  display: flex;
  justify-content: space-between;
  align-items: center;
`]))),kt={background:"#fff",padding:15},Ft=N.ZP.div(de||(de=O()([""]))),ce=function(t){var i=t.affairName,a=i===void 0?"":i,r=t.backPath,o=r===void 0?"":r,C=t.decription,m=t.extendAffair,d=t.onClickAdd,f=t.pageTitle,g=f===void 0?"":f,Z=t.titleContainerStyle,T=t.titleContainerClass,S=(0,s.useCallback)(function(){window.location.href.includes("/#/")?window.location.hash=o:window.location.href=o},[o]);return(0,e.jsx)(Tt,{className:T,style:l()(l()({},kt),Z),children:(0,e.jsxs)(At,{children:[(0,e.jsxs)(tn.Z,{children:[o&&o!==""?(0,e.jsx)(U.ZP,{icon:(0,e.jsx)(bt.Z,{}),onClick:S,type:"link"}):"",g,C]}),(0,e.jsx)(Ft,{children:(0,e.jsxs)(tn.Z,{children:[m,d?(0,e.jsxs)(U.ZP,{onClick:d,type:"primary",children:["+ \u65B0\u589E",a]}):""]})})]})})},fe=ce,Zt=u(1706),ci=u(65570),Et=["onResize","width"],It=function(t){var i=t.onResize,a=t.width,r=Y()(t,Et);return a?(0,e.jsx)(Zt.Resizable,{width:a,height:0,onResize:i,children:(0,e.jsx)("th",l()({},r))}):(0,e.jsx)("th",l()({},r))},Dt=function(t){var i,a=(0,s.useState)((i=t.columns)!==null&&i!==void 0?i:[]),r=v()(a,2),o=r[0],C=r[1],m=function(g){return function(Z,T){var S=T.size;C(function($){var P=Dn()($);return P[g]=l()(l()({},P[g]),{},{width:S.width}),P})}},d=o==null?void 0:o.map(function(f,g){return l()(l()({},f),{},{onHeaderCell:function(T){return{width:T.width,onResize:m(g)}}})});return(0,e.jsx)(le.Z,l()(l()({},t),{},{columns:d,components:{header:{cell:It}},scroll:{x:"max-content"}}))},$t=Dt,Pt=["affairContainerType","affairName","backPath","batchDeleteLoading","columns","extendAffair","resize","size","pageTitle","onAffairSuccess","onBatchDelete","onModalClose","showBatch","onConditionChange","tableContainerStyle","titleContainerStyle"],wt=["title"],ve,me,zt=N.ZP.div(ve||(ve=O()([`
  background-color: @primary-color;
`]))),Lt=N.ZP.div(me||(me=O()([`
  display: flex;
  justify-content: right;
`]))),Bt={background:"#fff",padding:15,margin:15};function Rt(n){var t,i,a,r,o,C=n.affairContainerType,m=C===void 0?"modal":C,d=n.affairName,f=d===void 0?"":d,g=n.backPath,Z=g===void 0?"":g,T=n.batchDeleteLoading,S=n.columns,$=n.extendAffair,P=n.resize,Q=P===void 0?!1:P,M=n.size,w=M===void 0?"middle":M,H=n.pageTitle,B=H===void 0?"":H,x=n.onAffairSuccess,p=x===void 0?function(){return new Promise(function(){})}:x,z=n.onBatchDelete,W=n.onModalClose,h=W===void 0?function(){}:W,L=n.showBatch,c=n.onConditionChange,V=n.tableContainerStyle,an=V===void 0?{}:V,jn=n.titleContainerStyle,cn=jn===void 0?{}:jn,y=Y()(n,Pt),zn=dn(),fn=v()(zn,2),bn=fn[0],X=fn[1],vn=Sn(),mn=re.Z.useModal(),nn=v()(mn,2),Ln=nn[0],Bn=nn[1],Tn=(t={},j()(t,D.ADD,"\u65B0\u589E"),j()(t,D.EDIT,"\u7F16\u8F91"),j()(t,D.DISPLAY,"\u67E5\u770B"),t),Rn=(0,s.useState)({}),An=v()(Rn,2),kn=An[0],R=An[1],hn=(0,s.useState)(D.ADD),he=v()(hn,2),rn=he[0],On=he[1],qt=(0,s.useState)([]),ge=v()(qt,2),gn=ge[0],Nn=ge[1],_t=(0,xt.Z)(),Ce=v()(_t,2),ni=Ce[0],q=Ce[1].toggle,ei=(0,s.useCallback)(function(E){q(),On(D.EDIT),R(E),X()},[]),ti=(0,s.useCallback)(function(E){q(),On(D.DISPLAY),R(E),X()},[]),ii=(0,s.useCallback)(function(E){var A;q(),window.localStorage.setItem("deleteKeys",E.join(",")),(A=y.onClickDeleteButton)===null||A===void 0||A.call(y,E).then(function(){return window.localStorage.removeItem("deleteKeys")}).catch(function(){return window.localStorage.removeItem("deleteKeys")})},[]),oi=(0,s.useCallback)(function(){q(),On(D.ADD),R({}),X()},[]),ai=(0,s.useState)(Pn(window.location.href)),xe=v()(ai,2),Mn=xe[0],ri=xe[1],li=function(A){var k,K;return[y.editLoading!==void 0?{loading:function(){return!1},onClick:function(){return ei(A)},size:w,hidden:function(){return!1},type:"primary",title:"\u7F16\u8F91"}:void 0,y.deleteLoading!==void 0?{loading:(k=window.localStorage.getItem("deleteKeys"))===null||k===void 0||(k=k.split(","))===null||k===void 0?void 0:k.includes(A[y.rowKey]),onClick:function(){Ln.confirm({okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onOk:function(){return ii([A[y.rowKey]])},title:"\u60A8\u786E\u8BA4\u5220\u9664\u8FD9\u6761".concat(f,"\u6570\u636E\u5417\uFF1F")})},size:w,danger:!0,title:"\u5220\u9664"}:void 0,{onClick:function(){return ti(A)},size:w,loading:function(){return!1},hidden:function(){return!1},title:"\u8BE6\u60C5"}].concat(Dn()((K=y.extend)!==null&&K!==void 0?K:[])).filter(function(b){return b})},pe=(0,s.useMemo)(function(){return{title:"\u64CD\u4F5C",dataIndex:"action",key:"action",width:vn<768?50:250,fixed:"right",render:function(A,k,K){var b,Cn=li(k).filter(function(I){var _;return!(I!=null&&(_=I.hidden)!==null&&_!==void 0&&_.call(I,k,K))}),si=Cn.map(function(I){return{label:I==null?void 0:I.title,key:I==null?void 0:I.title,onClick:function(){var en;return I==null||(en=I.onClick)===null||en===void 0?void 0:en.call(I,k,K)}}});return vn<768?(0,e.jsx)(pt.Z,{placement:"bottomRight",menu:{items:si},children:(0,e.jsx)(U.ZP,{type:"link",children:(b=window.localStorage.getItem("deleteKeys"))!==null&&b!==void 0&&(b=b.split(","))!==null&&b!==void 0&&b.includes(k[y.rowKey])?(0,e.jsx)(Ct.Z,{}):"\xB7\xB7\xB7"})}):(0,e.jsx)(tn.Z,{children:Cn.map(function(I){var _,en,Wn,Kn=I.title,J=Y()(I,wt);return(0,e.jsx)(U.ZP,l()(l()({},J),{},{loading:typeof J.loading=="boolean"?J.loading:(_=J.loading)===null||_===void 0?void 0:_.call(J,k,K),hidden:(en=J.hidden)===null||en===void 0?void 0:en.call(J,k,K),disabled:(Wn=J.disabled)===null||Wn===void 0?void 0:Wn.call(J,k,K),children:typeof Kn=="function"?Kn(k,K):Kn}),J.key)})})}}},[vn]),ye=(0,s.useMemo)(function(){var E=S.filter(function(A){return!A.hiddenInTable}).map(function(A){return A.options?l()(l()({},A),{},{render:function(K){var b;return(b=A.options)===null||b===void 0||(b=b.find(function(Cn){return Cn.value===K}))===null||b===void 0?void 0:b.label}}):A});return E.find(function(A){return A.title==="\u64CD\u4F5C"})?E:E.concat(pe)},[pe,S]),Se=(0,s.useMemo)(function(){return S.filter(function(E){return E.conditionType})},[S]),je=(0,s.useMemo)(function(){return S.filter(function(E){return E.affairType})},[S]),be=(0,s.useCallback)(function(){h==null||h(),X()},[]),ui=(0,s.useCallback)(function(){h==null||h(),X()},[]),Te=function(A){return rn===D.DISPLAY?new Promise(function(k){X(),k({})}):p(A,rn).then(function(){return X()}).catch(function(k){throw new Error(k)})};return(0,s.useEffect)(function(){return c&&c(Mn)},[Mn]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ce,{animation:y.animation,affairName:f,backPath:Z,decription:y.decription,extendAffair:$,onClickAdd:y.addLoading!==void 0?oi:void 0,pageTitle:B,titleContainerClass:y.titleContainerClass,titleContainerStyle:cn}),Se.length?(0,e.jsx)(En,{animation:y.animation,columns:Se,conditionContainerClass:y.conditionContainerClass,conditionContainerStyle:y.conditionContainerStyle,condition:Mn,size:w,showConditionOkBtn:y.showConditionOkBtn,onConditionChange:ri}):"",(0,e.jsxs)(zt,{className:y.tableContainerClass,style:l()(l()({},Bt),an),children:[gn.length?(0,e.jsx)(yt.Z,{style:{marginBottom:14},type:"error",message:(0,e.jsx)(Lt,{children:(0,e.jsxs)(tn.Z,{children:[(0,e.jsxs)(e.Fragment,{children:["\u5F53\u524D\u5DF2\u9009\u62E9 ",gn.length," \u6761\u6570\u636E"]}),(0,e.jsx)(St.Z,{title:"\u786E\u8BA4\u5220\u9664\u6240\u9009".concat(f,"\u5417\uFF1F"),onCancel:q,onPopupClick:q,okButtonProps:{loading:T,onClick:function(){return z==null?void 0:z(gn).then(function(){q(),Nn([])})}},open:ni,children:(0,e.jsx)(U.ZP,{danger:!0,onClick:q,children:"\u5220\u9664"})})]})})}):"",Q?(0,e.jsx)($t,l()(l()({columns:ye,size:w},y),{},{rowSelection:L?{type:(i=(a=y.rowSelection)===null||a===void 0?void 0:a.type)!==null&&i!==void 0?i:"checkbox",selectedRowKeys:gn,onChange:Nn}:void 0})):(0,e.jsx)(le.Z,l()(l()({columns:ye,size:w,scroll:{x:500}},y),{},{rowSelection:L?{type:(r=(o=y.rowSelection)===null||o===void 0?void 0:o.type)!==null&&r!==void 0?r:"checkbox",selectedRowKeys:gn,onChange:Nn}:void 0}))]}),Bn,m==="modal"?(0,e.jsx)(re.Z,{open:bn,width:y.affairWidth,onCancel:be,onOk:ui,title:Tn[rn]+f,footer:!1,children:(0,e.jsx)(xn,{animation:y.animation,affairWidth:700,columns:je,affairData:kn,type:rn,onAffairSuccess:Te})}):(0,e.jsx)(jt.Z,{open:bn,width:y.affairWidth,onClose:be,title:Tn[rn]+f,footer:!1,children:(0,e.jsx)(xn,{animation:y.animation,affairWidth:700,columns:je,affairData:kn,type:rn,onAffairSuccess:Te})})]})}var $n=Rt,Ot=function(){return(0,e.jsx)(e.Fragment,{})},Nt=Ot,D=function(n){return n.ADD="add",n.DISPLAY="display",n.EDIT="edit",n}({}),F=function(n){return n.AutoComplete="AutoComplete",n.Cascader="Cascader",n.Checkbox="Checkbox",n.DatePicker="DatePicker",n.Input="Input",n.InputNumber="InputNumber",n.Radio="Radio",n.Rate="Rate",n.RangePicker="RangePicker",n.SearchInput="SearchInput",n.Select="Select",n.Slider="Slider",n.Switch="Switch",n.TagList="TagList",n.TextArea="TextArea",n.TimePicker="TimePicker",n.Transfer="Transfer",n.TreeSelect="TreeSelect",n.ColorPicker="ColorPicker",n}({}),Mt=function(t){var i=(0,s.useState)(t!=null?t:{}),a=v()(i,2),r=a[0],o=a[1],C=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(un,l()({},r))}},[r]);return[r,o,C]};function Wt(n){var t=(0,s.useState)(n!=null?n:{}),i=v()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(En,l()({},a))}},[a]);return[a,r,o]}var Kt=u(71524);function on(n,t){var i=(0,Kt.Z)(n,t?l()({manual:!0},t):{manual:!0}),a=i.data,r=i.runAsync,o=i.loading;return[o,r,a]}function Xt(n){var t=(0,s.useState)(n!=null?n:{}),i=v()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(xn,l()({},a))}},[a]);return[a,r,o]}function Gt(n){var t=(0,s.useState)(n!=null?n:{}),i=v()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(sn,l()({},a))}},[a]);return[a,r,o]}function Ut(n){var t=(0,s.useState)(n!=null?n:{}),i=v()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(ae,l()({},a))}},[a]);return[a,r,o]}var Qt=u(97303),Sn=function(){var t=(0,s.useState)(function(){return window.document.body.offsetWidth}),i=v()(t,2),a=i[0],r=i[1];return(0,Qt.Z)(function(){return window.addEventListener("resize",function(o){return r((o==null?void 0:o.target).innerWidth)}),window.removeEventListener("resize",function(o){return r((o==null?void 0:o.target).innerWidth)})},[],{wait:1e3}),a};function Ht(n){var t=(0,s.useState)(n!=null?n:{}),i=v()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)($n,l()({},a))}},[a]);return[a,r,o]}function Vt(n){var t=(0,s.useState)(n!=null?n:{}),i=v()(t,2),a=i[0],r=i[1],o=(0,s.useMemo)(function(){return function(){return(0,e.jsx)(fe,l()({},a))}},[a]);return[a,r,o]}var Jt=u(36705),dn=function(){var t=(0,Jt.Z)(),i=v()(t,2),a=i[0],r=i[1].toggle;return[a,r]},Pn=function(t,i){var a=t.slice(t.indexOf("?"));return a.slice(1).split("&").reduce(function(r,o){return o.split("=")[1]&&(r[o.split("=")[0]]=o.split("=")[1].length>15||decodeURI(o.split("=")[1])===""||isNaN(Number(decodeURI(o.split("=")[1])))?decodeURI(o.split("=")[1]):Number(decodeURI(o.split("=")[1]))),r},i!=null?i:{current:1,pageSize:10})},wn=function(t){return JSON.stringify(t)},Yt=function(t,i){return wn(t)===wn(i)}}}]);
