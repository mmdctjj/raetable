"use strict";(self.webpackChunkraetable=self.webpackChunkraetable||[]).push([[954],{48954:function(Ie,mn,c){c.r(mn),c.d(mn,{BottomToTop:function(){return K},EAnimation:function(){return nn},ECondition:function(){return Tn},EForm:function(){return zn},EFormItem:function(){return tn},EPage:function(){return ve},ETable:function(){return kn},ETitle:function(){return ee},FORMTYPE:function(){return j},LeftToRight:function(){return jn},OPERATION:function(){return v},RightToLeft:function(){return Sn},formatSearch:function(){return rn},objectIsQqual:function(){return me},objectToString:function(){return ln},useFetch:function(){return H},useTrigger:function(){return on}});var wn=c(97857),A=c.n(wn),On=c(5574),b=c.n(On),d=c(67294),N=c(67759),hn=c(71230),M=c(15746),q=c(26713),B=c(71577),Xn=c(13769),_=c.n(Xn),Un=c(68400),$=c.n(Un),k=c(94589),e=c(85893),Wn=["direction"],Cn,gn,pn,An,xn,yn,Gn=(0,k.F4)(Cn||(Cn=$()([`
  0% {
    transform: translateX(50%);
  }
  80% {
    transform: translateX(-2%)
  }
  100% {
    transform: translateX(0);
    opacity: 1
  }
`]))),Kn=(0,k.F4)(gn||(gn=$()([`
  0% {
    transform: translateX(-50%);
  }
  80% {
    transform: translateX(2%)
  }
  100% {
    transform: translateX(0);
    opacity: 1
  }
`]))),Hn=(0,k.F4)(pn||(pn=$()([`
  0% {
    transform: translateY(50%);
  }

  80% {
    transform: translateY(-10%);
  }

  100% {
    transform: translateY(0);
    opacity: 1
  }
`]))),Sn=k.ZP.div(An||(An=$()([`
  transform: translateX(50%);
  opacity: 0;
  animation: `," ",`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms
`])),Gn,function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,a;return((t=n.index)!==null&&t!==void 0?t:0)*((a=n.delay)!==null&&a!==void 0?a:130)}),jn=k.ZP.div(xn||(xn=$()([`
  transform: translateX(-100%);
  opacity: 0;
  animation: `," ",`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms;
`])),Kn,function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,a;return((t=n.index)!==null&&t!==void 0?t:0)*((a=n.delay)!==null&&a!==void 0?a:130)}),K=k.ZP.div(yn||(yn=$()([`
  transform: translateY(50%);
  opacity: 0;
  animation: `," ",`ms;
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
  animation-delay: `,`ms
`])),Hn,function(n){var t;return(t=n.duration)!==null&&t!==void 0?t:300},function(n){var t,a;return((t=n.index)!==null&&t!==void 0?t:0)*((a=n.delay)!==null&&a!==void 0?a:130)}),Qn=function(t){var a=t.direction,u=a===void 0?"BT":a,r=_()(t,Wn),o={BT:(0,e.jsx)(K,A()({},r)),RL:(0,e.jsx)(Sn,A()({},r)),LR:(0,e.jsx)(jn,A()({},r))};return o[u]},nn=Qn;function Jn(n){var t,a=n.condition,u=n.columns,r=n.onConditionChange,o=n.showConditionOkBtn,f=o===void 0?!1:o,h=n.size,i=N.Z.useForm(),l=b()(i,1),s=l[0],C=(0,d.useCallback)(function(m,T){return r(function(E){return A()(A()({},E),T)})},[r]),g=(0,d.useCallback)(function(){r({}),s.resetFields()},[s,r]);return(0,d.useEffect)(function(){return s.setFieldsValue(a)},[a]),(0,e.jsx)(N.Z,{form:s,labelCol:{span:6},layout:"inline",onValuesChange:f?function(){}:C,size:h,children:(0,e.jsxs)(hn.Z,{style:{width:"100%"},children:[(0,e.jsx)(M.Z,{span:20,children:(0,e.jsx)(hn.Z,{children:u==null?void 0:u.map(function(m,T){return(0,e.jsx)(M.Z,{span:(u.length===4,6),children:(0,e.jsx)(nn,{index:T,children:(0,e.jsx)(N.Z.Item,{name:m.dataIndex,label:m.title,children:(0,e.jsx)(tn,{content:m,size:h,typeKey:"conditionType",type:v.EDIT,value:""})},m.key)})},m.key)})})}),(0,e.jsx)(M.Z,{span:4,style:{textAlign:"right"},children:(0,e.jsx)(N.Z.Item,{children:(0,e.jsx)(nn,{index:(t=u==null?void 0:u.length)!==null&&t!==void 0?t:5,children:(0,e.jsxs)(q.Z,{children:[f?(0,e.jsx)(B.ZP,{onClick:function(){return r(s.getFieldsValue())},type:"primary",children:"\u786E\u5B9A"}):"",(0,e.jsx)(B.ZP,{onClick:function(){return g()},danger:!0,children:"\u6E05\u7A7A"})]})})})})]})})}var Tn=Jn,Vn=c(9783),p=c.n(Vn),Yn=c(86738),Mn=c(15223),qn=c(48165),_n=c(37735),En,bn,ne=k.ZP.div(En||(En=$()([`
  display: flex;
  justify-content: space-between;
  align-items: center;
`]))),Dn=k.ZP.div(bn||(bn=$()([""]))),In=function(t){var a=t.affairName,u=a===void 0?"":a,r=t.backPath,o=r===void 0?"":r,f=t.extendAffair,h=t.onClickAdd,i=h===void 0?function(){}:h,l=t.pageTitle,s=l===void 0?"":l,C=(0,d.useCallback)(function(){window.location.href.includes("/#/")?window.location.hash=o:window.location.href=o},[o]);return(0,e.jsxs)(ne,{children:[(0,e.jsxs)(Dn,{children:[o&&o!==""?(0,e.jsx)(B.ZP,{icon:(0,e.jsx)(_n.Z,{}),onClick:C,type:"link"}):"",s]}),(0,e.jsx)(Dn,{children:(0,e.jsxs)(q.Z,{children:[f,(0,e.jsxs)(B.ZP,{onClick:i,type:"primary",children:["+ \u65B0\u589E",u]})]})})]})},ee=In,te=["affairName","backPath","columns","extendAffair","size","pageTitle","onAffairSuccess","onConditionChange","conditionContainerStyle","tableContainerStyle","titleContainerStyle"],Ln,Fn,Zn,ae=k.ZP.div(Ln||(Ln=$()([`
  background-color: @primary-color
`]))),ie=k.ZP.div(Fn||(Fn=$()([`
  background-color: @primary-color
`]))),oe=k.ZP.div(Zn||(Zn=$()([`
  background-color: @primary-color
`]))),re={background:"#fff",padding:15},$n={background:"#fff",padding:15,margin:15};function le(n){var t,a=n.affairName,u=a===void 0?"":a,r=n.backPath,o=r===void 0?"":r,f=n.columns,h=n.extendAffair,i=n.size,l=i===void 0?"middle":i,s=n.pageTitle,C=s===void 0?"":s,g=n.onAffairSuccess,m=g===void 0?function(){return new Promise(function(){})}:g,T=n.onConditionChange,E=n.conditionContainerStyle,L=E===void 0?{}:E,F=n.tableContainerStyle,D=F===void 0?{}:F,w=n.titleContainerStyle,O=w===void 0?{}:w,Z=_()(n,te),x=on(),X=b()(x,2),z=X[0],P=X[1],U=(t={},p()(t,v.ADD,"\u65B0\u589E"),p()(t,v.EDIT,"\u7F16\u8F91"),p()(t,v.DISPLAY,"\u67E5\u770B"),t),un=(0,d.useState)({}),W=b()(un,2),G=W[0],Q=W[1],sn=(0,d.useState)(v.ADD),J=b()(sn,2),R=J[0],I=J[1],dn=(0,d.useCallback)(function(S){I(v.EDIT),Q(S),P(!0)},[]),he=(0,d.useCallback)(function(S){I(v.DISPLAY),Q(S),P(!0)},[]),Ce=(0,d.useCallback)(function(S){var y;(y=Z.onClickDeleteButton)===null||y===void 0||y.call(Z,S)},[]),ge=(0,d.useCallback)(function(){I(v.ADD),Q({}),P(!0)},[]),pe=(0,d.useState)(rn(window.location.href)),Rn=b()(pe,2),cn=Rn[0],Ae=Rn[1],xe=(0,d.useMemo)(function(){return{title:"\u64CD\u4F5C",dataIndex:"action",key:"action",width:200,fixed:"right",render:function(y,V){return(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(B.ZP,{size:l,onClick:function(){return dn(V)},type:"primary",children:"\u7F16\u8F91"}),(0,e.jsx)(Yn.Z,{title:"\u5220\u9664",description:"\u60A8\u786E\u8BA4\u5220\u9664\u8FD9\u6761".concat(u,"\u6570\u636E\u5417\uFF1F"),okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onConfirm:function(){return Ce([V[Z.rowKey]])},children:(0,e.jsx)(B.ZP,{danger:!0,size:l,children:"\u5220\u9664"})}),(0,e.jsx)(B.ZP,{size:l,onClick:function(){return he(V)},children:"\u8BE6\u60C5"})]})}}},[]),ye=(0,d.useMemo)(function(){var S=f.filter(function(y){return!y.hiddenInTable}).map(function(y){return y.select?A()(A()({},y),{},{render:function(Y){var fn,vn;return(fn=y.select)===null||fn===void 0||(vn=fn.find(function(De){return De.value===Y}))===null||vn===void 0?void 0:vn.label}}):y});return S.find(function(y){return y.title==="\u64CD\u4F5C"})?S:S.concat(xe)},[f]),Se=(0,d.useMemo)(function(){return f.filter(function(S){return S.conditionType})},[f]),je=(0,d.useMemo)(function(){return f.filter(function(S){return S.affairType})},[f]),Te=(0,d.useCallback)(function(){return P(!1)},[]),Ee=(0,d.useCallback)(function(){return P(!1)},[]),be=(0,d.useCallback)(function(S){return R===v.DISPLAY?new Promise(function(y){P(!1),y({})}):m(S,R).then(function(){return P(!1)}).catch(function(y){throw new Error(y)})},[R]);return(0,d.useEffect)(function(){return T&&T(cn)},[cn]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(oe,{className:Z.titleContainerClass,style:A()(A()({},re),O),children:(0,e.jsx)(In,{affairName:u,backPath:o,extendAffair:h,onClickAdd:ge,pageTitle:C})}),(0,e.jsx)(ae,{className:Z.conditionContainerClass,style:A()(A()({},$n),L),children:(0,e.jsx)(Tn,{columns:Se,condition:cn,size:l,onConditionChange:Ae})}),(0,e.jsx)(ie,{className:Z.tableContainerClass,style:A()(A()({},$n),D),children:(0,e.jsx)(Mn.Z,A()({columns:ye,size:l},Z))}),(0,e.jsx)(qn.Z,{open:z,onCancel:Te,onOk:Ee,title:U[R]+u,footer:!1,children:(0,e.jsx)(zn,{affairWidth:700,columns:je,affairData:G,type:R,onAffairSuccess:be})})]})}var kn=le,Pn=c(13689),en=c(89847),Nn=c(55742),Bn=c(72269),ue=c(34041);function se(n){var t,a,u,r,o,f,h,i=n.content,l=n.value,s=n.onChange,C=n.size,g=n.type,m=n.typeKey;if(!(i!=null&&i[m]))return(0,e.jsx)(e.Fragment,{});var T=(t={},p()(t,j.CASCADER,(0,e.jsx)(Pn.Z,{size:C,placeholder:"\u8BF7\u8F93\u5165".concat(i.title),value:l,onChange:s,options:i.select,loadData:i.loadData})),p()(t,j.INPUT,(0,e.jsx)(en.Z,{size:C,value:l,placeholder:"\u8BF7\u8F93\u5165".concat(i.title),onChange:s})),p()(t,j.RADIO,(0,e.jsx)(Nn.ZP.Group,A()({size:C,options:i.select,value:l,onChange:s,disabled:g===v.DISPLAY},i))),p()(t,j.SWITCH,(0,e.jsx)(Bn.Z,{onChange:function(D){return s==null?void 0:s(D===!0?1:0)},checked:typeof l=="undefined"?!0:Boolean(l),disabled:g===v.DISPLAY})),p()(t,j.SELECT,(0,e.jsx)(ue.Z,{size:C,style:{minWidth:100},allowClear:!0,options:i.select,onChange:function(D){i.linked&&localStorage.setItem(i.dataIndex,D),s==null||s(D)},placeholder:"\u8BF7\u9009\u62E9".concat(i.title),value:l})),p()(t,j.TEXTAREA,(0,e.jsx)(en.Z.TextArea,{size:C,disabled:g===v.DISPLAY,placeholder:"\u8BF7\u8F93\u5165".concat(i.title),onChange:s,rows:5,value:l})),t),E=(r={},p()(r,j.CASCADER,(0,e.jsx)(Pn.Z,{size:C,placeholder:"\u8BF7\u8F93\u5165".concat(i.title),value:l,onChange:s,options:i.select,loadData:i.loadData})),p()(r,j.INPUT,(0,e.jsx)(e.Fragment,{children:l})),p()(r,j.RADIO,(0,e.jsx)(Nn.ZP.Group,A()({size:C,options:i.select,value:l,onChange:s,disabled:g===v.DISPLAY},i))),p()(r,j.SWITCH,(0,e.jsx)(Bn.Z,{onChange:function(D){return s==null?void 0:s(D===!0?1:0)},checked:typeof l=="undefined"?!0:Boolean(l),disabled:g===v.DISPLAY})),p()(r,j.SELECT,(0,e.jsx)(e.Fragment,{children:(a=i.select)===null||a===void 0||(u=a.find(function(F){return F.value===l}))===null||u===void 0?void 0:u.label})),p()(r,j.TEXTAREA,(0,e.jsx)(e.Fragment,{children:l})),r),L=(o={},p()(o,v.ADD,T),p()(o,v.EDIT,T),p()(o,v.DISPLAY,E),o);return(f=(h=L[g])===null||h===void 0?void 0:h[i==null?void 0:i[m]])!==null&&f!==void 0?f:(0,e.jsx)(e.Fragment,{children:"\u6682\u65E0\u5339\u914D\u9879"})}var tn=se;function de(n){var t=n.affairData,a=t===void 0?{}:t,u=n.affairWidth,r=n.columns,o=r===void 0?[]:r,f=n.extendForm,h=n.type,i=h===void 0?v.ADD:h,l=n.isShowSumbit,s=l===void 0?!0:l,C=n.hiddenLabels,g=C===void 0?[]:C,m=n.onAffairSuccess,T=N.Z.useForm(),E=b()(T,1),L=E[0],F=on(),D=b()(F,2),w=D[0],O=D[1],Z=(0,d.useCallback)(function(){L.validateFields().then(function(x){O(!0),m==null||m(x).then(function(){return O(!1)})})},[L]);return(0,d.useEffect)(function(){return Object.keys(a).length===0?L.resetFields():L.setFieldsValue(A()({enabled:0},a))},[a]),(0,e.jsxs)(N.Z,{form:L,layout:"horizontal",labelAlign:"right",labelCol:{span:u&&u>900?2:5},labelWrap:!0,children:[(0,e.jsx)(N.Z.Item,{style:{display:"none"},name:"id",children:(0,e.jsx)(en.Z,{type:"hidden"})}),o==null?void 0:o.map(function(x,X){var z;return(0,e.jsx)(K,{index:X,children:(0,e.jsx)(N.Z.Item,{label:(0,e.jsx)(e.Fragment,{children:g.includes(x.title)?"":x.title}),name:x.dataIndex,rules:(z=x.rules)!==null&&z!==void 0?z:[],children:(0,e.jsx)(tn,{value:!0,content:x,onChange:x.onChange,type:i,typeKey:"affairType"})},x.key)},x.key)}),(0,e.jsx)(K,{index:o.length+1,children:f}),s?(0,e.jsx)(K,{index:f?o.length+2:o.length+1,children:(0,e.jsx)(N.Z.Item,{wrapperCol:{offset:o.filter(function(x){return g.includes(x.title)}).length?0:u&&u>900?2:5},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(B.ZP,{loading:w,type:"primary",onClick:Z,children:"\u786E\u8BA4"}),i!==v.DISPLAY?(0,e.jsx)(B.ZP,{type:"link",onClick:function(){return L.resetFields()},children:"\u6E05\u7A7A"}):""]})})}):""]})}var zn=de,ce=["addAffair","delAffair","editAffair","formatList","getLists"];function an(n){return console.log(n),new Promise(function(t){t({data:[],code:200,msg:""})})}function fe(n){var t,a=n.addAffair,u=a===void 0?an:a,r=n.delAffair,o=r===void 0?an:r,f=n.editAffair,h=f===void 0?an:f,i=n.formatList,l=i===void 0?function(I){return I}:i,s=n.getLists,C=_()(n,ce),g=H(u),m=b()(g,3),T=m[1],E=m[2],L=H(o),F=b()(L,3),D=F[1],w=F[2],O=H(h),Z=b()(O,3),x=Z[1],X=Z[2],z=H(s),P=b()(z,3),U=P[0],un=P[1],W=P[2],G=(0,d.useMemo)(function(){return rn(window.location.href)},[window.location.href]),Q=(0,d.useMemo)(function(){var I;return(I=l==null?void 0:l(U.data))!==null&&I!==void 0?I:[]},[U]),sn=(t={},p()(t,v.ADD,E),p()(t,v.EDIT,X),t),J=(0,d.useCallback)(function(I,dn){return sn[dn](I).then(function(){return W(G)})},[W,G]),R=(0,d.useCallback)(function(I){return w(I)},[]);return(0,d.useEffect)(function(){return W(G)},[G]),(0,d.useEffect)(function(){return console.log(U)},[U]),(0,e.jsx)(kn,A()({addLoading:T,deleteLoading:D,editLoading:x,dataSource:Q,loading:un,onAffairSuccess:J,onClickDeleteButton:R},C))}var ve=fe,v;(function(n){n.ADD="add",n.DISPLAY="display",n.EDIT="edit"})(v||(v={}));var j;(function(n){n.CASCADER="CASCADER",n.CYCLESELECT="cycleSelect",n.CRON="cron",n.DATERANGE="dataRange",n.EXCEPTION="exception",n.INPUT="input",n.JSON="json",n.MODEL="selectModel",n.METRIC="selectMetric",n.RADIO="radio",n.SEARCHINPUT="searchInput",n.SELECT="select",n.SWITCH="switch",n.TAGLIST="tagList",n.TEXTAREA="textArea",n.TIMERANGE="timeRange",n.TIMESELECT="timeSelect",n.UPLOAD="uplaod",n.INSPECTION="inspection",n.STRATEGY="strategy",n.TEMPLATE="template",n.RULETEMPLATE="ruleTemplate"})(j||(j={}));var on=function(t){var a=(0,d.useState)(t!==void 0?t:!1),u=b()(a,2),r=u[0],o=u[1],f=(0,d.useCallback)(function(h){return o(function(i){return h!==void 0?h:!i})},[]);return[r,f]};function H(n){var t=(0,d.useState)({}),a=b()(t,2),u=a[0],r=a[1],o=(0,d.useState)(!1),f=b()(o,2),h=f[0],i=f[1],l=(0,d.useCallback)(function(){for(var s=arguments.length,C=new Array(s),g=0;g<s;g++)C[g]=arguments[g];return i(!0),new Promise(function(m,T){n(C).then(function(E){r(E),m(E)}).catch(function(E){return T(E)}).finally(function(){return i(!1)})})},[n]);return[u,h,l]}var rn=function(t,a){var u=t.slice(t.indexOf("?"));return u.slice(1).split("&").reduce(function(r,o){return o.split("=")[1]&&(r[o.split("=")[0]]=o.split("=")[1].length>15||decodeURI(o.split("=")[1])===""||isNaN(Number(decodeURI(o.split("=")[1])))?decodeURI(o.split("=")[1]):Number(decodeURI(o.split("=")[1]))),r},a!=null?a:{current:1,pageSize:10})},ln=function(t){return JSON.stringify(t)},me=function(t,a){return ln(t)===ln(a)}}}]);
